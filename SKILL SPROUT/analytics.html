<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Children Progress Analytics</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #00c6ff, #0072ff);
      margin: 0;
      padding: 20px;
      color: #fff;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
      font-size: 2.5rem;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.3);
    }
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .card {
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      border-radius: 20px;
      padding: 20px;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 8px 15px rgba(0,0,0,0.2);
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      color: #222;
    }
    .card:hover {
      transform: translateY(-8px) scale(1.05);
      box-shadow: 0 12px 25px rgba(0,0,0,0.3);
    }
    .card h2 {
      margin: 0;
      font-size: 1.5rem;
    }
    .card p {
      margin-top: 8px;
      font-size: 1rem;
    }
    .charts {
      display: none;
      flex-direction: column;
      gap: 25px;
      margin-top: 30px;
      animation: fadeIn 0.8s ease;
    }
    .charts.active {
      display: flex;
    }
    canvas {
      background: white;
      border-radius: 15px;
      padding: 15px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <h1>Children Progress Analytics</h1>

  <!-- Quick Stats -->
  <div class="cards" id="stats"></div>

  <!-- Charts Section -->
  <div class="charts" id="charts">
    <canvas id="barChart"></canvas>
    <canvas id="lineChart"></canvas>
  </div>

  <script>
    // Children + Random Data
    const children = ["Arjun", "Meera", "Kabir", "Simran", "Rohan", "Isha", "Karan", "Tara", "Anaya"];
    const colors = ["#FF6F61","#6B5B95","#88B04B","#FFA500","#00A4CC","#FF69B4","#FF4500","#9C27B0","#009688"];

    const statsContainer = document.getElementById("stats");
    const chartsContainer = document.getElementById("charts");

    // Create cards dynamically
    children.forEach((child, i) => {
      let progress = Math.floor(Math.random() * 100);
      let div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `<h2>${child}</h2><p>Progress: ${progress}%</p>`;
      div.addEventListener("click", () => showChildAnalytics(child, colors[i]));
      statsContainer.appendChild(div);
    });

    // Global chart instances
    let barChart, lineChart;

    function showChildAnalytics(child, color) {
      chartsContainer.classList.add("active");
      
      // Generate random data for the child
      const skills = ["Math", "Science", "English", "Arts", "Sports"];
      const skillScores = skills.map(() => Math.floor(Math.random() * 100));
      const weeklyProgress = Array.from({length: 6}, () => Math.floor(Math.random() * 100));

      // Destroy previous charts before reloading
      [barChart, lineChart].forEach(ch => {
        if (ch) ch.destroy();
      });

      // Bar Chart - Skills
      barChart = new Chart(document.getElementById("barChart"), {
        type: "bar",
        data: {
          labels: skills,
          datasets: [{
            label: `${child}'s Skills`,
            data: skillScores,
            backgroundColor: color
          }]
        },
        options: {
          responsive: true,
          plugins: {
            title: { display: true, text: `${child}'s Skill Performance` }
          }
        }
      });

      // Line Chart - Weekly Progress
      lineChart = new Chart(document.getElementById("lineChart"), {
        type: "line",
        data: {
          labels: ["Week 1", "Week 2", "Week 3", "Week 4", "Week 5", "Week 6"],
          datasets: [{
            label: `${child}'s Weekly Progress`,
            data: weeklyProgress,
            borderColor: color,
            backgroundColor: color + "33",
            fill: true,
            tension: 0.4
          }]
        },
        options: {
          plugins: {
            title: { display: true, text: `${child}'s Weekly Progress` }
          }
        }
      });
    }
  </script>
</body>
</html>
